# host_vars/vault1.yml
# Minimal Vault VM intent using the enterprise contract

#env: "prod"

pve_node: pve
vmid: 202
vm_name: vault1
vm_type: instance
os_family: debian
domain_name: joseph4lansolo.xyz
clone_from_template_vmid: 9001
pve_bridge: vmbr10
ssh_host: "{{ vm_name }}.{{ domain_name }}"

pve_cores: 4
pve_memory: 8192
pve_balloon: 0
pve_agent: 1
pve_onboot: 1
pve_scsihw: "virtio-scsi-single"
pve_boot_order: "scsi0;net0"
pve_tags: "debian,secure,vault"
pve_description: "HashiCorp Vault â€“ raft + audit + backups"

workload:
  type: "vault"

vm_storage_plan:
  scsi1:
    purpose: "vault_data"
    pool_ref: "secure"
    size: "64G"
  scsi2:
    purpose: "audit_logs"
    pool_ref: "secure"
    size: "32G"
  scsi3:
    purpose: "backups_target"
    pool_ref: "secure"
    size: "64G"